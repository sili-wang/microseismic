Madgascar Installation - Beginner’s Guide
First, to make sure your ubuntu machine has all dependencies of Madagascar, assuming ubuntu 13.04, do:
$ sudo apt-get install freeglut3-dev g++ gfortran libgd2-xpm-dev libx11-dev libxaw7-dev \
libnetpbm10-dev swig python-dev python-numpy libblas-dev libcairo2-dev liblapack-dev \
libavcodec-dev python-epydoc scons

For installing dependencies on other systems, check the following link: 
http://www.ahay.org/wiki/Advanced_Installation#Ubuntu

Then, to install development version of Madagascar, follow the next steps:

$ cd ~   # enter your HOME directory
$ mkdir RSFROOT
$ mkdir RSFDATA

$ git clone https://github.com/ahay/src RSFSRC  
$ cd RSFSRC
$ ./configure --prefix=~/RSFROOT
$ make; make install

# append the following lines to your $HOME/.profile or $HOME/.bashrc or $HOME/.bash_profile or $HOME/.cshrc (if exist)   --- append to all three files if they exist; if they do not exist, then do not add those files.

source $RSFROOT/share/madagascar/etc/env.sh
export DATAPATH=~/RSFDATA # path to binary data generated by program

Now, restart your machine or logout and login again

Next, test this command, if no complaints, then the installation is completed

$ sfspike n1=1000 k1=300 | sfbandpass fhi=2 phase=y | \
sfwiggle clip=0.02 title="Welcome to Madagascar" | sfpen




# Microseismic code
# Junzhe’s Microseismic image code files contain: Mlstri2d.c triutil.c SConstruct geop.asc marmousi.py

# enter $HOME directory
$ cd ~ 
$ git clone https://github.com/iotanalytics/IoTAnalytics --branch microseismic --single-branch microseismic

$ cd ~/microseismic/microseismic

# copy Mlstri2d.c and triutil.c. to ~/RSFSRC/user/jsun 
$ cp Mlstri2d.c triutil.c ~/RSFSRC/user/jsun 

# compile and run
$ scons 

# view all generated graphs
$ scons view

# the following command will show stacked result.
# Src-ctr-new.rsf is the result base on old method and inv2.rsf is based on new method 

$ <src-ctr-new.rsf sfstack axis=3 | sfgrey pclip=100 |sfpen

$ <src-ctr-new.rsf sfstack axis=3 | sfgrey |sfpen

$ <inv2.rsf sfstack axis=3 | sfgrey pclip=100 |sfpen

$ <inv2.rsf sfstack axis=3 | sfgrey |sfpen

You can also use sfpen to show vpl files

$ cd Fig
$ sfpen < src-ctr-new.vpl
